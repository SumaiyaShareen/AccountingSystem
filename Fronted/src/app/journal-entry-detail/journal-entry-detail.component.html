<mat-card class="form-card">
    <h2>Journal Entry Details</h2>
    <form [formGroup]="journalDetailForm" (ngSubmit)="onSubmit()">
      
      <mat-form-field appearance="fill">
        <mat-label>Journal Entry</mat-label>
        <mat-select formControlName="EntryID" required>
          <mat-option *ngFor="let entry of journalEntries" [value]="entry.EntryId">
            {{ entry.Description }} ({{ entry.EntryDate | date }})
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <mat-form-field appearance="fill">
        <mat-label>Account</mat-label>
        <mat-select formControlName="AccountID" (selectionChange)="onAccountChange($event.value)" required>
          <mat-option *ngFor="let account of accounts" [value]="account.AccountId">
            {{ account.AccountName }} ({{ account.AccountType }})
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>Debit Amount</mat-label>
        <input matInput type="number" formControlName="DebitAmount" placeholder="Enter debit amount" [readonly]="!journalDetailForm.get('DebitAmount')?.enabled">
      </mat-form-field>
  
      <mat-form-field appearance="fill">
        <mat-label>Credit Amount</mat-label>
        <input matInput type="number" formControlName="CreditAmount" placeholder="Enter credit amount" [readonly]="!journalDetailForm.get('CreditAmount')?.enabled">
      </mat-form-field>
      
      <button mat-raised-button color="primary" type="submit" [disabled]="journalDetailForm.invalid">Add Entry Detail</button>
  
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
      <mat-spinner *ngIf="isLoading" diameter="30"></mat-spinner>
    </form>
  </mat-card>
  
  
    
    <mat-card class="table-card">
        <h2>Journal Entry Table</h2>
        <table mat-table [dataSource]="combinedDataSource">
          
          <ng-container matColumnDef="entryDate">
            <th mat-header-cell *matHeaderCellDef> Date </th>
            <td mat-cell *matCellDef="let entry"> {{ entry.EntryDate | date }} </td>
          </ng-container>
      
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Description </th>
            <td mat-cell *matCellDef="let entry"> {{ entry.Description }} </td>
          </ng-container>
      
          <ng-container matColumnDef="accountDetail">
            <th mat-header-cell *matHeaderCellDef> Account </th>
            <td mat-cell *matCellDef="let entry"> {{entry.AccountName}} </td>
          </ng-container>
      
          <ng-container matColumnDef="debitAmount">
            <th mat-header-cell *matHeaderCellDef> Debit </th>
            <td mat-cell *matCellDef="let entry"> {{ entry.DebitAmount | number: '1.2-2' }} </td>
          </ng-container>
      
          <ng-container matColumnDef="creditAmount">
            <th mat-header-cell *matHeaderCellDef> Credit </th>
            <td mat-cell *matCellDef="let entry"> {{ entry.CreditAmount | number: '1.2-2' }} </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="['entryDate', 'description', 'accountDetail', 'debitAmount', 'creditAmount']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['entryDate', 'description', 'accountDetail', 'debitAmount', 'creditAmount'];"></tr>
        </table>
      </mat-card>
      